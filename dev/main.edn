{:http {:port 1312
        :handler #ig/ref :bread/handler}
 :bread/handler #ig/ref :bread/app
 :bread/app
 {:datastore #ig/ref :bread/datastore
  :i18n false
  :routes {:router #ig/ref :bread/router}
  :components {:not-found #var not-found}
  :plugins []}
 :bread/datastore
 {:datastore/type :datahike
  :store {:backend :mem
          :id "bread-db"}
  :datastore/migrations #deref #var systems.bread.alpha.schema/initial
  :datastore/initial-txns #deref #var systems.bread.alpha.defaults/initial-data}
 :bread/router
 #router
 [["/" {"login"
        {:get :login-page
         :post :login}
        [:lang] {"" :index
                 ["/" :post/slug] :page}}]
  ;; TODO :dispatcher.type/ => ::bread/
  {:index
   {:dispatcher/type :dispatcher.type/page
    :dispatcher/component #var home-page}
   :page
   {:dispatcher/type :dispatcher.type/page
    :dispatcher/component #var interior-page}
   :login
   {:dispatcher/type :systems.bread.alpha.plugin.auth/login
    :dispatcher/component #var systems.bread.alpha.plugin.auth/login-page}
   :login-page
   {:dispatcher/type :systems.bread.alpha.plugin.auth/login-page
    :dispatcher/component #var systems.bread.alpha.plugin.auth/login-page}}]}
